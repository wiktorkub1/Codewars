#include <string>
#include <vector>

std::string range_extraction(std::vector<int> args) {
	std::string answer = "";
	int range{ 0 };
	int temp{ 0 };
	int last_change{ 0 };
	int diff{ 0 };

	for (int i = 0; i < args.size() - 1; i++) {
		temp = args[i];

		if (i != args.size() - 1) {
			diff = args[i + 1] - args[i];
		}
		while (diff == 1 && i != args.size() - 1) {
			range++;
			if (i == args.size() - 2) { break; }
			i++;
			diff = args[i + 1] - args[i];
		}

		if (range >= 2) {
			last_change = temp + range;
			answer = answer + std::to_string(temp) + '-' + std::to_string(temp + range) + ',';
			range = 0;
		}
		else {
		if (range == 1 && i != args.size() - 2) { i--; }
			last_change = temp;
			answer += std::to_string(temp);
			answer += ',';
			range = 0;
		}
	}

	if (last_change != args.at(args.size() - 1)) {
		answer += std::to_string(args[args.size() - 1]);
		answer += ',';
	}
	answer.pop_back();
	return answer;
}
